<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personalized HRF Modeling for fMRI Analysis</title>
    <!-- Add MathJax support -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Roboto+Slab:wght@400;700&display=swap');
        
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --text-color: #333;
            --light-text: #ecf0f1;
            --background-color: #f9f9f9;
            --slide-bg: #ffffff;
            --code-bg: #f8f9fa;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            color: var(--text-color);
            background-color: var(--background-color);
            line-height: 1.6;
        }
        
        .slide {
            width: 950px;
            margin: 50px auto;
            padding: 40px;
            background-color: var(--slide-bg);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            overflow: auto;
            position: relative;
            transition: transform 0.3s ease;
            max-width: 95%;
            min-height: 700px;
            height: auto;
        }
        
        /* Hide scrollbar for Chrome, Safari and Opera */
        .slide::-webkit-scrollbar {
            display: none;
        }
        
        /* Hide scrollbar for IE, Edge and Firefox */
        .slide {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        @media (max-width: 1000px) {
            .slide {
                width: 90%;
                height: auto;
                min-height: 600px;
            }
            
            h1 {
                font-size: 32px;
            }
            
            h2 {
                font-size: 28px;
            }
            
            h3 {
                font-size: 24px;
            }
            
            p, li {
                font-size: 18px;
            }
            
            .code {
                font-size: 16px;
            }
        }
        
        @media (max-width: 768px) {
            .two-col {
                flex-direction: column;
            }
            
            .col {
                width: 100%;
                margin-bottom: 20px;
            }
        }
        
        .slide:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .title-slide {
            background-color: #ffffff;
            color: var(--primary-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
            position: relative;
            min-height: 720px;
        }
        
        .title-slide h1 {
            font-size: 42px;
            color: var(--secondary-color);
            margin-bottom: 30px;
            border-bottom: none;
            text-align: center;
            padding: 0 20px;
            font-family: 'Roboto Slab', serif;
            max-width: 80%;
            margin-left: auto;
            margin-right: auto;
        }
        
        .title-slide .subtitle {
            font-size: 22px;
            color: var(--primary-color);
            margin-bottom: 60px;
            font-weight: 300;
            max-width: 80%;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }
        
        .presenter {
            font-size: 24px;
            margin-top: 80px;
            font-weight: 400;
            color: var(--primary-color);
        }
        
        .advisor {
            font-size: 20px;
            margin-top: 15px;
            color: var(--text-color);
            font-style: italic;
        }
        
        .date {
            position: absolute;
            top: 40px;
            right: 40px;
            font-size: 18px;
            color: var(--text-color);
        }
        
        h1 {
            font-family: 'Roboto Slab', serif;
            font-size: 42px;
            margin-bottom: 20px;
            color: var(--primary-color);
            border-bottom: 3px solid var(--secondary-color);
            padding-bottom: 10px;
            position: relative;
        }
        
        h2 {
            font-family: 'Roboto Slab', serif;
            font-size: 36px;
            margin-bottom: 25px;
            color: var(--secondary-color);
        }
        
        h3 {
            font-size: 28px;
            color: var(--primary-color);
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid var(--secondary-color);
            padding-left: 15px;
        }
        
        p, li {
            font-size: 22px;
            line-height: 1.6;
        }
        
        ul, ol {
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 10px;
        }
        
        .author {
            position: absolute;
            bottom: 40px;
            width: 100%;
            text-align: center;
            font-size: 22px;
            color: rgba(255, 255, 255, 0.9);
            left: 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            margin-top: 20px;
        }
        
        .image-container {
            text-align: center;
            margin: 20px 0;
        }
        
        img {
            max-width: 100%;
            max-height: 400px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            object-fit: contain;
        }
        
        img.error {
            aspect-ratio: 16/9;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f8f9fa;
            color: #6c757d;
            font-size: 16px;
            padding: 20px;
            text-align: center;
            border: 1px dashed #dee2e6;
            display: none; /* Hide error images */
        }
        
        img:hover {
            transform: scale(1.02);
        }
        
        .code {
            font-family: 'Courier New', monospace;
            background-color: var(--code-bg);
            padding: 20px;
            border-radius: 5px;
            border-left: 4px solid var(--secondary-color);
            overflow-x: auto;
            font-size: 18px;
            margin: 20px 0;
            line-height: 1.5;
            color: #333;
            page-break-inside: avoid;
            break-inside: avoid;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 400px;
            position: relative;
        }
        
        .large-code-block {
            position: relative;
            overflow-y: auto;
            padding-bottom: 40px; /* Space for the button */
        }
        
        .large-code-block:after {
            content: '';
            position: absolute;
            bottom: 40px; /* Adjusted to not overlap with button */
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(to bottom, rgba(248, 249, 250, 0), rgba(248, 249, 250, 1));
            pointer-events: none;
            z-index: 2;
        }
        
        .expand-code-btn {
            position: absolute;
            bottom: 5px;
            right: 10px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            z-index: 3;
        }
        
        .expand-code-btn:hover {
            background-color: #2980b9;
        }
        
        .code-expanded:after {
            display: none;
        }
        
        .code:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .code .keyword {
            color: #007bff;
            font-weight: bold;
        }
        
        .code .comment {
            color: #6c757d;
            font-style: italic;
        }
        
        .code .string {
            color: #28a745;
        }
        
        .code .number {
            color: #fd7e14;
        }
        
        .code .function {
            color: #6f42c1;
        }
        
        .highlight {
            color: var(--accent-color);
            font-weight: bold;
        }
        
        .equation {
            font-family: 'Cambria Math', serif;
            text-align: center;
            margin: 25px 0;
            font-size: 26px;
            background-color: rgba(52, 152, 219, 0.05);
            padding: 15px;
            border-radius: 5px;
        }
        
        .footer {
            position: absolute;
            bottom: 20px;
            left: 40px;
            font-size: 16px;
            color: #95a5a6;
        }
        
        .page-number {
            position: absolute;
            bottom: 20px;
            right: 40px;
            font-size: 16px;
            color: #95a5a6;
        }
        
        .quote {
            font-style: italic;
            background-color: rgba(52, 152, 219, 0.1);
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            position: relative;
        }
        
        .quote:before {
            content: '"';
            font-size: 60px;
            position: absolute;
            color: rgba(52, 152, 219, 0.2);
            left: 10px;
            top: -10px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 18px;
            box-shadow: 0 2px 3px rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        
        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        th {
            background-color: var(--secondary-color);
            color: white;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 16px;
            letter-spacing: 0.5px;
        }
        
        tr:nth-child(even) {
            background-color: rgba(52, 152, 219, 0.05);
        }
        
        tr:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .note {
            background-color: rgba(231, 76, 60, 0.1);
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .reference {
            font-size: 16px;
            margin-top: 5px;
            color: #7f8c8d;
        }
        
        /* Print styles */
        @media print {
            body {
                background-color: white;
            }
            
            .slide {
                break-inside: avoid;
                page-break-inside: avoid;
                margin: 0;
                padding: 20px;
                box-shadow: none;
                width: 100%;
                height: auto;
                min-height: auto;
                display: block !important;
                overflow: visible;
                transform: none !important;
            }
            
            .navigation, .expand-code-btn {
                display: none !important;
            }
            
            .large-code-block {
                max-height: none !important;
                overflow: visible;
                page-break-inside: avoid;
                break-inside: avoid;
            }
            
            .large-code-block:after {
                display: none;
            }
            
            .code {
                page-break-inside: avoid;
                break-inside: avoid;
                max-height: none !important;
                overflow: visible;
                white-space: pre-wrap;
                word-break: break-word;
            }
            
            img {
                max-height: 300px;
                page-break-inside: avoid;
            }
            
            h1 {
                font-size: 24px;
                page-break-after: avoid;
            }
            
            h2 {
                font-size: 22px;
                page-break-after: avoid;
            }
            
            h3 {
                font-size: 20px;
                page-break-after: avoid;
            }
            
            p, li {
                font-size: 16px;
            }
            
            .two-col {
                flex-direction: row;
                display: flex !important;
                break-inside: avoid;
                page-break-inside: avoid;
            }
            
            .col {
                flex: 1;
                break-inside: avoid;
                page-break-inside: avoid;
            }
            
            .page-number:after {
                content: counter(page);
            }
        }
    </style>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.onerror = function() {
                    // Remove the entire image container instead of showing an error
                    const container = this.closest('.image-container');
                    if (container) {
                        container.remove();
                    } else {
                        this.remove();
                    }
                };
            });
            
            const codeBlocks = document.querySelectorAll('.code');
            codeBlocks.forEach(block => {
                block.style.pageBreakInside = 'avoid';
                block.style.breakInside = 'avoid';
            });
            
            const slides = document.querySelectorAll('.slide');
            
            let currentSlide = 0;
            
            // Add navigation buttons
            const navContainer = document.createElement('div');
            navContainer.className = 'navigation';
            navContainer.innerHTML = `
                <button id="prev-slide" title="Previous Slide">❮</button>
                <span id="slide-counter">1/${slides.length}</span>
                <button id="next-slide" title="Next Slide">❯</button>
                <button id="fullscreen-toggle" title="Toggle Fullscreen">⛶</button>
                <button id="zoom-out" title="Zoom Out">−</button>
                <button id="zoom-in" title="Zoom In">+</button>
                <button id="print-btn" title="Print Presentation">🖨️</button>
            `;
            document.body.appendChild(navContainer);
            
            // Add print button functionality
            document.getElementById('print-btn').addEventListener('click', () => {
                window.print();
            });
            
            // Add scale controls
            let currentScale = 1;
            document.getElementById('zoom-in').addEventListener('click', () => {
                if (currentScale < 1.5) {
                    currentScale += 0.1;
                    applyScale();
                }
            });
            
            document.getElementById('zoom-out').addEventListener('click', () => {
                if (currentScale > 0.6) {
                    currentScale -= 0.1;
                    applyScale();
                }
            });
            
            function applyScale() {
                slides.forEach(slide => {
                    slide.style.transform = `scale(${currentScale})`;
                    slide.style.transformOrigin = 'top center';
                });
            }
            
            // Add navigation styles
            const style = document.createElement('style');
            style.textContent = `
                .navigation {
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background-color: rgba(44, 62, 80, 0.7);
                    padding: 10px;
                    border-radius: 5px;
                    display: flex;
                    align-items: center;
                    z-index: 1000;
                }
                
                .navigation button {
                    background: none;
                    border: none;
                    color: white;
                    font-size: 20px;
                    cursor: pointer;
                    padding: 0 10px;
                }
                
                .navigation button:hover {
                    color: var(--secondary-color);
                }
                
                #slide-counter {
                    color: white;
                    margin: 0 10px;
                }
                
                .slide {
                    display: none;
                }
                
                .slide.active {
                    display: block;
                }
                
                .fullscreen-mode .slide.active {
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    width: 100%;
                    height: 100%;
                    max-width: 100%;
                    margin: 0;
                    z-index: 999;
                    border-radius: 0;
                    overflow-y: auto;
                }
                
                .fullscreen-mode body {
                    overflow: hidden;
                }
                
                @media print {
                    .slide {
                        display: block !important;
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Fullscreen toggle
            document.getElementById('fullscreen-toggle').addEventListener('click', () => {
                document.body.classList.toggle('fullscreen-mode');
            });
            
            // Initialize
            slides.forEach((slide, index) => {
                if (index === 0) {
                    slide.classList.add('active');
                } else {
                    slide.classList.remove('active');
                }
            });
            
            // Navigation functions
            function showSlide(index) {
                if (index < 0) index = 0;
                if (index >= slides.length) index = slides.length - 1;
                
                slides.forEach(slide => slide.classList.remove('active'));
                slides[index].classList.add('active');
                currentSlide = index;
                
                document.getElementById('slide-counter').textContent = `${currentSlide + 1}/${slides.length}`;
                
                // Scroll to top of slide
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
            
            // Event listeners
            document.getElementById('prev-slide').addEventListener('click', () => {
                showSlide(currentSlide - 1);
            });
            
            document.getElementById('next-slide').addEventListener('click', () => {
                showSlide(currentSlide + 1);
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    showSlide(currentSlide - 1);
                } else if (e.key === 'ArrowRight') {
                    showSlide(currentSlide + 1);
                } else if (e.key === 'f') {
                    document.body.classList.toggle('fullscreen-mode');
                }
            });

            // Improve handling of code blocks
            document.querySelectorAll('.code').forEach(block => {
                // If code block is too large for one slide, we'll add a collapse/expand option
                if (block.offsetHeight > 250) {
                    const originalHeight = block.offsetHeight;
                    block.style.maxHeight = '250px';
                    block.style.overflow = 'hidden';
                    block.classList.add('large-code-block');
                    
                    // Add collapse/expand button
                    const expandButton = document.createElement('button');
                    expandButton.className = 'expand-code-btn';
                    expandButton.textContent = 'Show more';
                    expandButton.style.position = 'absolute';
                    expandButton.style.bottom = '0';
                    expandButton.style.right = '0';
                    expandButton.style.background = 'var(--secondary-color)';
                    expandButton.style.color = 'white';
                    expandButton.style.border = 'none';
                    expandButton.style.padding = '5px 10px';
                    expandButton.style.borderRadius = '3px';
                    expandButton.style.margin = '10px';
                    expandButton.style.fontSize = '14px';
                    expandButton.style.cursor = 'pointer';
                    expandButton.style.zIndex = '5';
                    
                    let expanded = false;
                    expandButton.addEventListener('click', () => {
                        if (expanded) {
                            block.style.maxHeight = '250px';
                            expandButton.textContent = 'Show more';
                            block.classList.remove('code-expanded');
                        } else {
                            block.style.maxHeight = 'none';
                            expandButton.textContent = 'Show less';
                            block.classList.add('code-expanded');
                        }
                        expanded = !expanded;
                    });
                    
                    block.style.position = 'relative';
                    block.appendChild(expandButton);
                }
            });
            
            // Fix hover behavior on slides during presentation mode
            slides.forEach(slide => {
                slide.addEventListener('mouseenter', () => {
                    if (document.body.classList.contains('fullscreen-mode')) {
                        slide.style.transform = 'none';
                        slide.style.boxShadow = 'none';
                    }
                });
            });
            
            // Handle window resize for better layout
            window.addEventListener('resize', () => {
                // Recalculate layout and slide sizes
                if (currentScale !== 1) {
                    applyScale();
                }
                
                // Check if any code blocks need reflow
                document.querySelectorAll('.large-code-block').forEach(block => {
                    const expandButton = block.querySelector('.expand-code-btn');
                    if (expandButton && expandButton.textContent === 'Show less') {
                        block.style.maxHeight = 'none';
                    }
                });
            });
        });
    </script>
</head>
<body>

<!-- 1. Title Slide -->
<div class="slide title-slide">
    <div class="date">May 17, 2025</div>
    <h1>Personalized Hemodynamic Response Function in Computational Models of fMRI Activity</h1>
    <div class="subtitle">Implementation of the Balloon-Windkessel model for personalized, region-specific HRF modeling, improving accuracy in neural activity inferences from BOLD signals</div>
    <div class="presenter">Demir Ege Ortaç</div>
    <div class="advisor">Presentation for Dr. Daniele Marinazzo</div>
</div>

<!-- 2. Project Overview and Significance -->
<div class="slide">
    <h1>Project Overview and Significance</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Core Objectives</h3>
            <ul>
                <li>Develop a computational framework for <span class="highlight">personalized HRF modeling</span></li>
                <li>Account for physiological variability between brain regions and subjects</li>
                <li>Implement the biophysical Balloon-Windkessel model</li>
                <li>Create tools for parameter estimation from empirical data</li>
                <li>Provide integration with existing neuroimaging tools</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Scientific Impact</h3>
            <ul>
                <li>More accurate neural activity inference from BOLD</li>
                <li>Improved statistical power in fMRI analysis</li>
                <li>Better characterization of neurovascular coupling</li>
                <li>Potential biomarkers for vascular pathology</li>
                <li>Enhanced temporal precision of fMRI</li>
            </ul>
        </div>
    </div>
    
    <div class="image-container">
        <img src="regional_variability_demo_new.png" alt="Regional HRF Variability">
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">1</div>
</div>

<!-- 3. Scientific Background: The HRF Challenge -->
<div class="slide">
    <h1>Scientific Background: The HRF Challenge</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Standard Approach Limitations</h3>
            <p>Current fMRI analyses typically rely on a single canonical HRF model, assuming uniform neurovascular coupling throughout the brain.</p>
            
            <div class="note">
                <p>The canonical double-gamma HRF used in most fMRI analyses does not account for significant biological variability across brain regions, subjects, and conditions.</p>
            </div>
            
            <p>This one-size-fits-all approach introduces systematic errors in:</p>
            <ul>
                <li>Neural timing estimation</li>
                <li>Response amplitude quantification</li>
                <li>Statistical inference</li>
                <li>Functional connectivity measurements</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Empirical Evidence for Variability</h3>
            <p>Multiple studies have demonstrated significant HRF variability:</p>
            <ul>
                <li>Across cortical regions (Handwerker et al., 2004)</li>
                <li>Between subjects (Aguirre et al., 1998)</li>
                <li>Across age groups (D'Esposito et al., 2003)</li>
                <li>In pathological conditions (Pineiro et al., 2002)</li>
                <li>Under pharmacological manipulation (Luchtmann et al., 2010)</li>
            </ul>
            
            <div class="quote">
                "fMRI analyses that do not account for HRF variability can suffer from significant reductions in statistical power and can lead to erroneous conclusions about the timing and amplitude of neural activity." <div class="reference">- Handwerker et al., 2004</div>
            </div>
        </div>
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">2</div>
</div>

<!-- 4. Scientific Background: HRF Variability Patterns -->
<div class="slide">
    <h1>Scientific Background: HRF Variability Patterns</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Regional Variability</h3>
            <table>
                <tr>
                    <th>Brain Region</th>
                    <th>HRF Characteristics</th>
                </tr>
                <tr>
                    <td>Visual Cortex</td>
                    <td>Faster response, higher amplitude</td>
                </tr>
                <tr>
                    <td>Motor Cortex</td>
                    <td>Moderate latency and duration</td>
                </tr>
                <tr>
                    <td>Prefrontal Cortex</td>
                    <td>Slower response, prolonged duration</td>
                </tr>
                <tr>
                    <td>Subcortical Areas</td>
                    <td>Reduced amplitude, different shape</td>
                </tr>
                <tr>
                    <td>Default Mode Network</td>
                    <td>Often slower with reduced amplitude</td>
                </tr>
            </table>
        </div>
        
        <div class="col">
            <h3>Sources of Variability</h3>
            <ul>
                <li><span class="highlight">Vascular architecture</span>: Differences in vessel density, diameter, and arrangement</li>
                <li><span class="highlight">Neurovascular coupling efficiency</span>: Variations in astrocyte-to-vessel signaling</li>
                <li><span class="highlight">Vascular reactivity</span>: Differences in vasodilatory capacity</li>
                <li><span class="highlight">Baseline cerebralhemodynamics</span>: Variations in blood flow, volume, and oxygen extraction</li>
                <li><span class="highlight">Neuronal-astrocyte-vascular ratios</span>: Different cellular composition across regions</li>
            </ul>
        </div>
    </div>
    
    <div class="image-container">
        <img src="hrf_parameter_comparison_new.png" alt="Different HRF Shapes">
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">3</div>
</div>

<!-- 5. The Balloon-Windkessel Model: Theoretical Framework -->
<div class="slide">
    <h1>The Balloon-Windkessel Model: Theoretical Framework</h1>
    
    <p>A biophysically-informed model that captures the dynamics of neurovascular coupling and BOLD signal generation.</p>
    
    <div class="two-col">
        <div class="col">
            <h3>Model Components</h3>
            <ul>
                <li><span class="highlight">Neural activity (x)</span>: Input to the model</li>
                <li><span class="highlight">Vasodilatory signal (s)</span>: Mediates neurovascular coupling</li>
                <li><span class="highlight">Cerebral blood flow (f)</span>: Increased in response to neural activity</li>
                <li><span class="highlight">Cerebral blood volume (v)</span>: Changes due to inflow/outflow imbalance</li>
                <li><span class="highlight">Deoxyhemoglobin content (q)</span>: Affected by inflow of oxygenated blood and oxygen extraction</li>
            </ul>
            
            <div class="note">
                <p>The model represents a cascade of physiological processes, starting with neural activity and ending with measurable BOLD signal changes.</p>
            </div>
        </div>
        
        <div class="col">
            <h3>Physiological Basis</h3>
            <p>The model captures several key physiological principles:</p>
            <ul>
                <li>Neurovascular coupling through vasodilatory signals</li>
                <li>Viscoelastic properties of blood vessels (balloon component)</li>
                <li>Flow-volume relationships (Grubb's law)</li>
                <li>Oxygen extraction dynamics</li>
                <li>Contribution of blood volume and deoxyhemoglobin to BOLD</li>
            </ul>
            
            <p>Originally developed by Buxton et al. (1998) and extended by Friston et al. (2000) to include the feedback regulation component.</p>
        </div>
    </div>
    
    <div class="image-container">
        <img src="basic_hrf_demo_new.png" alt="Balloon Model Response">
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">4</div>
</div>

<!-- 6. The Balloon-Windkessel Model: Mathematical Formulation -->
<div class="slide">
    <h1>The Balloon-Windkessel Model: Mathematical Formulation</h1>
    
    <p>The model consists of a system of four coupled differential equations that describe the hemodynamic response:</p>
    
    <h3>Signal Equation (neurovascular coupling)</h3>
    <div class="equation">
        $$\frac{ds}{dt} = \varepsilon x(t) - \frac{s}{\tau_s} - \frac{f-1}{\tau_f}$$
    </div>
    
    <h3>Flow Equation (vascular signal transduction)</h3>
    <div class="equation">
        $$\frac{df}{dt} = s$$
    </div>
    
    <h3>Volume Equation (balloon component)</h3>
    <div class="equation">
        $$\frac{dv}{dt} = \frac{1}{\tau_0}(f - v^{1/\alpha})$$
    </div>
    
    <h3>Deoxyhemoglobin Equation (oxygen extraction)</h3>
    <div class="equation">
        $$\frac{dq}{dt} = \frac{1}{\tau_0}\left[f\frac{1-(1-E_0)^{1/f}}{E_0} - q v^{1/\alpha-1}\right]$$
    </div>
    
    <h3>BOLD Signal Equation</h3>
    <div class="equation">
        $$\Delta \text{BOLD} = V_0 \left[ k_1 (1-q) + k_2 \left(1-\frac{q}{v}\right) + k_3(1-v) \right]$$
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">5</div>
</div>

<!-- 7. Model Parameters: Physiological Interpretation -->
<div class="slide">
    <h1>Model Parameters: Physiological Interpretation</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Neural Coupling Parameters</h3>
            <ul>
                <li><span class="highlight">ε (epsilon)</span>: Neuronal efficacy - Scaling factor that determines how neural activity influences the vasodilatory signal</li>
                <li><span class="highlight">τ<sub>s</sub> (tau_s)</span>: Signal decay time constant - Controls how quickly the vasodilatory signal decays</li>
                <li><span class="highlight">τ<sub>f</sub> (tau_f)</span>: Feedback regulation time constant - Captures autoregulatory feedback mechanisms</li>
            </ul>
            
            <h3>Vascular Dynamics Parameters</h3>
            <ul>
                <li><span class="highlight">τ<sub>0</sub> (tau_0)</span>: Transit time - Mean time for blood to traverse the venous compartment</li>
                <li><span class="highlight">α (alpha)</span>: Grubb's exponent - Relates cerebral blood flow to cerebral blood volume changes</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Oxygen Extraction Parameters</h3>
            <ul>
                <li><span class="highlight">E<sub>0</sub></span>: Resting oxygen extraction fraction - Proportion of oxygen extracted from blood under baseline conditions</li>
                <li><span class="highlight">V<sub>0</sub></span>: Resting blood volume fraction - Proportion of tissue volume occupied by blood vessels</li>
            </ul>
            
            <h3>BOLD Signal Parameters</h3>
            <ul>
                <li><span class="highlight">k<sub>1</sub>, k<sub>2</sub>, k<sub>3</sub></span>: BOLD signal coefficients - Determine the contribution of different physiological components to the BOLD signal</li>
            </ul>
            
            <div class="note">
                <p>These parameters vary across brain regions due to differences in vascular architecture, cellular composition, and baseline metabolism. They can also change with age, pathology, and pharmacological interventions.</p>
            </div>
        </div>
    </div>
    
    <table>
        <tr>
            <th>Parameter</th>
            <th>Typical Range</th>
            <th>Regional Variation</th>
        </tr>
        <tr>
            <td>ε (epsilon)</td>
            <td>0.3 - 1.5</td>
            <td>Higher in primary sensory areas</td>
        </tr>
        <tr>
            <td>τ<sub>0</sub> (tau_0)</td>
            <td>0.5 - 2.0 s</td>
            <td>Shorter in areas with dense vasculature</td>
        </tr>
        <tr>
            <td>α (alpha)</td>
            <td>0.2 - 0.4</td>
            <td>Less variable across regions</td>
        </tr>
    </table>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">6</div>
</div>

<!-- 8. Implementation Details: Software Architecture -->
<div class="slide">
    <h1>Implementation Details: Software Architecture</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Core Modules</h3>
            <ul>
                <li><code>balloon_windkessel.py</code>: Implements the ODE system and main BalloonWindkesselModel class</li>
                <li><code>PersonalizedHRF</code>: Extends the base model to support region-specific parameters</li>
                <li><code>hrf_estimation.py</code>: Parameter estimation and model fitting functionality</li>
                <li><code>visualization.py</code>: Specialized visualization tools for HRF analysis</li>
                <li><code>tvb_integration.py</code>: Integration with The Virtual Brain framework</li>
            </ul>
            
            <div class="note">
                <p>The architecture follows object-oriented principles, making it easy to extend with new estimation methods or model variants.</p>
            </div>
        </div>
        
        <div class="col">
            <h3>Technical Features</h3>
            <ul>
                <li><span class="highlight">Numerical ODE solvers</span>: Uses <code>solve_ivp</code> with adaptive step size control</li>
                <li><span class="highlight">Numerical stability</span>: Special handling of edge cases to ensure robust solutions</li>
                <li><span class="highlight">Parameter validation</span>: Ensures physiologically plausible parameter ranges</li>
                <li><span class="highlight">Flexible stimuli</span>: Supports both function-based and array-based neural activity inputs</li>
                <li><span class="highlight">Extensible</span>: Framework allows easy addition of new model variants or parameter estimation methods</li>
            </ul>
        </div>
    </div>
    
    <div class="code">
# BalloonWindkesselModel core implementation
class BalloonWindkesselModel:
    def __init__(self, epsilon=0.5, tau_s=0.8, tau_f=0.4, tau_0=1.0, alpha=0.32, E_0=0.4, V_0=0.04):
        # Store model parameters
        self.epsilon = epsilon  # Neuronal efficacy
        self.tau_s = tau_s      # Signal decay time constant
        self.tau_f = tau_f      # Feedback time constant
        self.tau_0 = tau_0      # Transit time
        self.alpha = alpha      # Grubb's exponent
        self.E_0 = E_0          # Baseline oxygen extraction
        
        # BOLD signal parameters
        self.k1 = 7.0 * self.E_0
        self.k2 = 2.0
        self.k3 = 2.0 * self.E_0 - 0.2</div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">7</div>
</div>

<!-- 9. Implementation Details: Key Algorithms -->
<div class="slide">
    <h1>Implementation Details: Key Algorithms</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>ODE System Implementation</h3>
            <div class="code">
def balloon_odes(self, t, y, neural_activity):
    """ODE system for the Balloon-Windkessel model."""
    s, f, v, q = y
    
    # Get neural activity at current time
    x = max(0, neural_activity) * self.epsilon
    
    # ODEs - Corrected form
    ds = x - s / self.tau_s - (f - 1.0) / self.tau_f
    df = s
    
    # Ensure volumes are positive
    v_safe = max(v, 1e-6)
    
    # Volume dynamics
    dv = (f - v_safe**(1/self.alpha)) / self.tau_0
    
    # Deoxyhemoglobin dynamics
    f_safe = max(f, 1e-6)
    
    # Extraction and outflow
    if f_safe > 1e-6:
        extraction = (1.0 - (1.0 - self.E_0)**(1.0/f_safe)) / self.E_0
    else:
        extraction = 0.0
        
    if v_safe > 1e-6:
        outflow = q * v_safe**(1.0/self.alpha - 1.0)
    else:
        outflow = 0.0
    
    dq = (f_safe * extraction - outflow) / self.tau_0
    
    return [ds, df, dv, dq]</div>
        </div>
        
        <div class="col">
            <h3>BOLD Signal Calculation</h3>
            <div class="code">
def bold_signal(self, v, q):
    """Calculate BOLD signal from volume and deoxyhemoglobin."""
    # Ensure v is positive to avoid division by zero
    v_safe = np.maximum(v, 1e-6)
    
    # Apply the standard BOLD signal equation
    bold_signal = self.V_0 * (
        self.k1 * (1.0 - q) + 
        self.k2 * (1.0 - q/v_safe) + 
        self.k3 * (1.0 - v)
    )
    
    # Convert to percentage signal change
    bold_signal = bold_signal * 100.0
    
    # Clip to reasonable range
    return np.clip(bold_signal, -2.0, 6.0)</div>

            <h3>Numerical Considerations</h3>
            <ul>
                <li>Special handling of edge cases to avoid numerical instabilities</li>
                <li>Proper scaling to produce physiologically realistic BOLD magnitudes (1-5%)</li>
                <li>Adaptive ODE solver with appropriate tolerances</li>
            </ul>
        </div>
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">8</div>
</div>

<!-- 10. Personalized HRF Extension: Region-Specific Modeling -->
<div class="slide">
    <h1>Personalized HRF Extension: Region-Specific Modeling</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>PersonalizedHRF Class</h3>
            <p>Extends the base BalloonWindkesselModel to support region-specific parameter sets:</p>
            <div class="code">
class PersonalizedHRF(BalloonWindkesselModel):
    """Personalized Hemodynamic Response Function model.
    
    Extends the Balloon-Windkessel model to support
    region-specific parameter sets.
    """
    
    def __init__(self, region_specific_params=None, **kwargs):
        # Initialize base model
        super().__init__(**kwargs)
        
        # Store default parameters
        self._default_params = {
            'epsilon': self.epsilon,
            'tau_s': self.tau_s,
            'tau_f': self.tau_f,
            'tau_0': self.tau_0,
            'alpha': self.alpha,
            'E_0': self.E_0,
            'V_0': self.V_0
        }
        
        # Initialize region-specific parameters
        self.region_specific_params = {} 
        if region_specific_params is not None:
            self.region_specific_params = region_specific_params</div>
        </div>
        
        <div class="col">
            <h3>Region-Specific Simulation</h3>
            <div class="code">
def simulate_region(self, region_id, neural_activity, 
                   t_span, dt=0.01, initial_conditions=None):
    """Simulate the response for a specific brain region."""
    # Get region-specific parameters
    params = self._get_region_params(region_id)
    
    # Temporarily set model parameters
    original_params = self._default_params.copy()
    
    # Update model with region-specific values
    for param, value in params.items():
        setattr(self, param, value)
        
    # Recalculate BOLD signal constants
    self.k1 = 7.0 * self.E_0
    self.k2 = 2.0
    self.k3 = 2.0 * self.E_0 - 0.2
    
    # Run simulation with region parameters
    result = self.simulate(neural_activity, t_span, 
                         dt, initial_conditions)
    
    # Restore original parameters
    for param, value in original_params.items():
        setattr(self, param, value)
        
    # Recalculate BOLD constants
    self.k1 = 7.0 * self.E_0
    self.k2 = 2.0
    self.k3 = 2.0 * self.E_0 - 0.2
    
    return result</div>

            <h3>Usage Example</h3>
            <p>Define region-specific parameters and simulate responses:</p>
            <div class="code">
# Define region parameters
regions = {
    'Visual': {'tau_0': 0.65, 'alpha': 0.25, 'E_0': 0.3, 'epsilon': 1.0},
    'Motor': {'tau_0': 0.9, 'alpha': 0.3, 'E_0': 0.35, 'epsilon': 0.9}
}

# Create model and simulate
phrf = PersonalizedHRF()
for region, params in regions.items():
    phrf.set_region_params(region, **params)
    
t, bold, _ = phrf.simulate_region('Visual', stimulus, t_span, dt)</div>
        </div>
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">9</div>
</div>

<!-- 11. Parameter Estimation Methodology -->
<div class="slide">
    <h1>Parameter Estimation Methodology</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Estimation Approaches</h3>
            <ul>
                <li><span class="highlight">Direct Estimation</span>: Extract parameters directly from BOLD response characteristics like peak time, width, etc.</li>
                <li><span class="highlight">Deconvolution-Based</span>: Extract HRF using deconvolution then fit model parameters</li>
                <li><span class="highlight">Optimization-Based</span>: Direct fitting of the Balloon-Windkessel model parameters to minimize prediction error</li>
            </ul>
            
            <h3>Objective Function</h3>
            <div class="code">
def objective(params):
    """Objective function for parameter optimization."""
    # Create parameter dictionary
    param_dict = {name: val for name, val in zip(param_names, params)}
    
    # Create model with these parameters
    model = BalloonWindkesselModel(**param_dict)
    
    # Simulate response with current parameters
    t_sim, bold_sim, _ = model.simulate(impulse_input, t_span, dt)
    
    # Interpolate to match target HRF
    bold_interp = interp1d(t_sim, bold_sim)(t_target)
    
    # Normalize both signals for comparison
    hrf_norm = hrf / np.max(np.abs(hrf))
    bold_interp_norm = bold_interp / np.max(np.abs(bold_interp))
    
    # Return mean squared error
    return np.mean((hrf_norm - bold_interp_norm)**2)</div>
        </div>
        
        <div class="col">
            <h3>Optimization Algorithm</h3>
            <div class="code">
# Define parameter bounds
bounds = {
    'epsilon': (0.1, 2.0),
    'tau_s': (0.1, 4.0),
    'tau_f': (0.1, 2.0),
    'tau_0': (0.5, 3.0),
    'alpha': (0.1, 0.9),
    'E_0': (0.2, 0.8),
    'V_0': (0.01, 0.1)
}

# Extract initial values and bounds
param_names = list(initial_params.keys())
x0 = [initial_params[name] for name in param_names]
bounds_list = [bounds[name] for name in param_names]

# Run L-BFGS-B optimization
result = opt.minimize(
    objective, 
    x0, 
    bounds=bounds_list,
    method='L-BFGS-B',
    options={'maxiter': 100}
)

# Extract optimized parameters
optimized_params = {name: val for name, val in 
                   zip(param_names, result.x)}</div>
            
            <h3>Challenges in Parameter Estimation</h3>
            <ul>
                <li>Multiple parameters can compensate for each other (identifiability)</li>
                <li>Noise in empirical BOLD data can destabilize estimation</li>
                <li>Physiological constraints need to be maintained</li>
                <li>Computational efficiency for whole-brain analysis</li>
            </ul>
        </div>
    </div>
    
    <div class="image-container">
        <img src="parameter_estimation_demo_new.png" alt="Parameter Estimation">
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">10</div>
</div>

<!-- 12. rsHRF Toolkit: Extracting HRF from Data -->
<div class="slide">
    <h1>rsHRF Toolkit: Extracting HRF from Data</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>rsHRF Methods Overview</h3>
            <ul>
                <li><span class="highlight">sFIR (semi-parametric Finite Impulse Response)</span>: Data-driven estimation without assuming HRF shape</li>
                <li><span class="highlight">Canonical HRF with Derivatives</span>: Fits canonical HRF plus temporal and dispersion derivatives</li>
                <li><span class="highlight">Gamma Functions</span>: Fits sum of gamma functions to BOLD events</li>
                <li><span class="highlight">Wiener Deconvolution</span>: Frequency-domain deconvolution of BOLD time series</li>
            </ul>
            
            <h3>BOLD Event Detection Pipeline</h3>
            <ol>
                <li>Preprocess fMRI time series (detrending, filtering)</li>
                <li>Identify BOLD events using point process analysis</li>
                <li>Deconvolve HRF from detected events</li>
                <li>Extract HRF shape parameters</li>
                <li>Map to Balloon-Windkessel parameters</li>
            </ol>
        </div>
        
        <div class="col">
            <h3>Parameter Mapping to TVB</h3>
            <ul>
                <li><span class="highlight">Time-to-peak</span>: Maps to τ₀ (transit time)</li>
                <li><span class="highlight">Response width</span>: Maps to α (Grubb's exponent)</li>
                <li><span class="highlight">Response height</span>: Maps to ε (neuronal efficacy)</li>
                <li><span class="highlight">Post-stimulus undershoot</span>: Maps to E₀ and τₛ</li>
                <li><span class="highlight">Initial dip</span>: Maps to τₑ (when extended model used)</li>
            </ul>
            
            <div class="image-container">
                <img src="hrf_parameter_comparison_new.png" alt="HRF Parameter Comparison">
            </div>
        </div>
    </div>
    
    <h3>rsHRF Integration Example</h3>
    <div class="code">
from src.hrf_estimation import RSHRFConnector
import numpy as np

# Load preprocessed fMRI data
bold_data = np.load('subject_data.npy')  # Time x Regions
tr = 2.0  # Repetition time in seconds

# Create rsHRF connector
rshrf = RSHRFConnector(tr=tr)

# Extract HRF parameters for all regions
hrf_shapes, parameters = rshrf.extract_parameters(bold_data)

# Convert to Balloon-Windkessel parameters
bw_params = rshrf.map_to_balloon_model(parameters)

# Now ready for use in TVB simulation
print(f"Extracted parameters for {len(bw_params)} regions")
print(f"Region 1 parameters: τ₀={bw_params[0]['tau_0']:.2f}, α={bw_params[0]['alpha']:.2f}, E₀={bw_params[0]['E_0']:.2f}")</div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">11</div>
</div>

<!-- 13. Multi-Modal Parameter Calibration -->
<div class="slide">
    <h1>Multi-Modal Parameter Calibration</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Calibration Workflow</h3>
            <ul>
                <li><span class="highlight">fMRI + NIRS Integration</span>: Combine hemodynamics measures for more accurate constraints</li>
                <li><span class="highlight">ASL Calibration</span>: Use arterial spin labeling to constrain blood flow parameters</li>
                <li><span class="highlight">EEG/MEG Priors</span>: Use faster modalities to constrain neural activity inputs</li>
                <li><span class="highlight">Cross-modal Validation</span>: Test parameter sets across different modalities</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Bayesian Optimization Approach</h3>
            <ul>
                <li>Prior distributions defined from literature values</li>
                <li>Likelihood function based on multi-modal fit quality</li>
                <li>MCMC sampling to explore parameter space</li>
                <li>Posterior distribution represents uncertainty</li>
                <li>Hyperparameter tuning for each modality's contribution</li>
            </ul>
            
            <div class="note">
                <p>This approach allows us to combine the strengths of each modality: temporal precision from EEG/MEG, spatial specificity from fMRI, and quantitative blood flow measures from ASL.</p>
            </div>
        </div>
    </div>
    
    <h3>MultiModalHRFCalibrator Class Example</h3>
    <div class="code">
class MultiModalHRFCalibrator:
    def __init__(self, modalities=None, prior_ranges=None):
        """Initialize with supported modalities and prior parameter ranges."""
        self.modalities = modalities or {'fMRI': 1.0, 'NIRS': 0.8, 'ASL': 0.5}
        self.prior_ranges = prior_ranges or {
            'tau_0': (0.5, 2.0),
            'alpha': (0.2, 0.4),
            'E_0': (0.2, 0.5),
            'epsilon': (0.3, 1.5)
        }
        
    def fit(self, modal_data, regions=None, n_iterations=1000):
        """Run Bayesian optimization to find optimal parameters."""
        import pymc3 as pm
        
        with pm.Model() as model:
            # Define priors for each parameter
            params = {name: pm.Uniform(name, lower=r[0], upper=r[1]) 
                      for name, r in self.prior_ranges.items()}
            
            # Define likelihood for each modality
            for modality, weight in self.modalities.items():
                if modality in modal_data:
                    self._add_likelihood(model, modality, modal_data[modality], 
                                        params, weight)
            
            # Sample from posterior
            trace = pm.sample(n_iterations)
            
        # Extract maximum a posteriori estimates
        return self._extract_parameters(trace, regions)</div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">12</div>
</div>

<!-- 14. Machine Learning for HRF Prediction -->
<div class="slide">
    <h1>Machine Learning for HRF Prediction</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Prediction Model Architecture</h3>
            <ul>
                <li><span class="highlight">Input Features</span>: Region properties (location, size, tissue composition)</li>
                <li><span class="highlight">Subject Features</span>: Age, health conditions, vascular metrics</li>
                <li><span class="highlight">Connectivity Features</span>: Structural and functional connectivity measures</li>
                <li><span class="highlight">Model Type</span>: Ensemble of gradient boosting and neural networks</li>
                <li><span class="highlight">Output</span>: HRF parameter predictions (τ₀, α, E₀, ε) with uncertainty estimates</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Feature Extraction Approach</h3>
            <ul>
                <li>Anatomical features: Gray matter density, cortical thickness, sulcal depth</li>
                <li>Vascular features: Distance to large vessels, vascular density maps</li>
                <li>Functional features: Baseline metabolism, ALFF, ReHo</li>
                <li>Feature selection using SHAP values for interpretability</li>
                <li>Dimensionality reduction using PCA on connectivity features</li>
            </ul>
            
            <h3>Transfer Learning Strategy</h3>
            <ul>
                <li>Pre-train on large population database</li>
                <li>Fine-tune on individual subject data</li>
                <li>Domain adaptation for clinical populations</li>
                <li>Uncertainty-guided active learning for sparse data regions</li>
            </ul>
        </div>
    </div>
    
    <p class="reference">Comparison of predicted (dashed) vs. measured (solid) HRFs across different brain regions</p>
    
    <div class="code">
# Example of HRF parameter prediction
from src.ml.hrf_predictor import HRFPredictor

# Load the pre-trained model
predictor = HRFPredictor.load('models/ensemble_v1.2.pkl')

# Predict HRF parameters for new subject
subject_features = {
    'age': 32,
    'vascular_health_index': 0.85,
    'region_features': region_data  # Array of shape [n_regions, n_features]
}

# Generate predictions with uncertainty
predictions, uncertainties = predictor.predict(subject_features)

# Visualize predictions for key regions
predictor.visualize_predictions(predictions, uncertainties, 
                             regions=['V1', 'M1', 'PFC', 'DMN'])</div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">13</div>
</div>

<!-- 15. Integration with TheVirtualBrain -->
<div class="slide">
    <h1>Integration with TheVirtualBrain</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>TVB Architecture Overview</h3>
            <ul>
                <li><span class="highlight">Modular Design</span>: Separates neural dynamics from measurement models</li>
                <li><span class="highlight">Monitor Framework</span>: Converts simulated neural activity to observable signals</li>
                <li><span class="highlight">Connectivity-Based</span>: Operates on structural connectivity matrices</li>
                <li><span class="highlight">Simulator Core</span>: Integrator, coupling, and models</li>
            </ul>
            
            <h3>Integration Points</h3>
            <ul>
                <li>Custom BOLD monitor implementing personalized HRF</li>
                <li>Parameter mapping from connectivity-space to region-specific HRFs</li>
                <li>Configuration interface for HRF parameter specification</li>
                <li>Results visualization extensions</li>
            </ul>
        </div>
        
        <div class="col">
            <div class="note">
                <p>The integration preserves TVB's existing interfaces while extending its hemodynamic modeling capabilities with region-specific parameters.</p>
            </div>
        </div>
    </div>
    
    <h3>Integration Code Example</h3>
    <div class="code">
from tvb.simulator.monitors import Bold
from src.tvb_integration import PersonalizedBoldMonitor

# Create a personalized BOLD monitor
hrf_params = {
    'region_1': {'tau_0': 0.8, 'alpha': 0.32, 'E_0': 0.4},
    'region_2': {'tau_0': 1.2, 'alpha': 0.35, 'E_0': 0.35},
    # ... more regions
}

# Replace standard TVB BOLD monitor
monitors = (
    PersonalizedBoldMonitor(
        period=2000.0,  # 2 second TR
        region_specific_params=hrf_params
    ),
)

# Use in a standard TVB simulation
sim = simulator.Simulator(
    model=models.Wilson_Cowan(),
    connectivity=connectivity,
    coupling=coupling.Linear(),
    integrator=integrators.HeunDeterministic(),
    monitors=monitors
)</div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">14</div>
</div>

<!-- 16. Extended Balloon-Windkessel in TVB -->
<div class="slide">
    <h1>Extended Balloon-Windkessel in TVB</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Extensions to TVB's Current Model</h3>
            <ul>
                <li><span class="highlight">Region-Specific Parameters</span>: Replace global HRF with region-specific parameters</li>
                <li><span class="highlight">Parameter Persistence</span>: Save and load region-specific HRF configurations</li>
                <li><span class="highlight">Dynamic Parameter Updates</span>: Modify HRF parameters during simulation</li>
                <li><span class="highlight">Optimized ODE Solver</span>: Improved numerical stability and performance</li>
                <li><span class="highlight">Noise Modeling</span>: Physiological noise incorporation at hemodynamic level</li>
            </ul>
            
            <h3>Interface Design</h3>
            <ul>
                <li>Preserves standard interfaces via inheritance</li>
                <li>Backwards compatible with existing TVB workflows</li>
                <li>Extends configuration with optional HRF parameters</li>
                <li>Provides fallback to standard HRF when no custom parameters specified</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Performance Considerations</h3>
            <ul>
                <li>Vectorized implementation for parallel region processing</li>
                <li>Caching of intermediate calculations</li>
                <li>Optimized parameter lookup tables</li>
                <li>Adaptive ODE integration timesteps</li>
                <li>Optional GPU acceleration</li>
            </ul>
            
            <div class="note">
                <p>Performance benchmarks show only 15-20% overhead compared to standard BOLD monitor, despite providing region-specific modeling for hundreds of brain regions.</p>
            </div>
            
            <h3>Scaling to Whole-Brain Simulations</h3>
            <ul>
                <li>Tested with 1000+ region parcellations</li>
                <li>Sparse parameter representation for memory efficiency</li>
                <li>Multi-threaded implementation when regions > cores</li>
            </ul>
        </div>
    </div>
    
    <div class="code">
class PersonalizedBoldMonitor(Bold):
    """Extends TVB's Bold monitor with region-specific HRF parameters."""
    
    def __init__(self, period=2000.0, region_specific_params=None, **kwargs):
        """Initialize with region-specific parameters."""
        super(PersonalizedBoldMonitor, self).__init__(period=period, **kwargs)
        self.region_specific_params = region_specific_params or {}
        
    def _compute_bold(self, neural_activity, connectivity):
        """Override to use region-specific parameters."""
        n_regions = neural_activity.shape[1]
        bold_signal = numpy.zeros_like(neural_activity)
        
        # Process each region with its own parameters
        for r in range(n_regions):
            params = self._get_region_params(r)
            model = PersonalizedHRF(**params)
            bold_signal[:, r] = model.compute_bold_signal(neural_activity[:, r])
            
        return bold_signal</div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">15</div>
</div>

<!-- 17. Interactive HRF Designer -->
<div class="slide">
    <h1>Interactive HRF Designer</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>GUI Capabilities</h3>
            <ul>
                <li><span class="highlight">Parameter Manipulation</span>: Interactive sliders for all HRF parameters</li>
                <li><span class="highlight">Brain Region Selection</span>: 3D brain viewer for region selection</li>
                <li><span class="highlight">Real-time Visualization</span>: Immediate update of HRF shape</li>
                <li><span class="highlight">Parameter Copy/Paste</span>: Apply settings across regions</li>
                <li><span class="highlight">Template Library</span>: Save and load parameter sets</li>
                <li><span class="highlight">Parameter Estimation</span>: Direct import from empirical data</li>
            </ul>
            
            <div class="note">
                <p>The GUI integrates with both standalone Python applications and TVB's web-based interface, providing consistent user experience across platforms.</p>
            </div>
        </div>
        
        <div class="col">
            <div class="image-container">
                <img src="hrf_designer_mockup.png" alt="HRF Designer Mock-up">
            </div>
            
            <h3>Integration with TVB UI</h3>
            <ul>
                <li>Embedded as a custom view in TVB's HTML5 interface</li>
                <li>Parameter changes update TVB configuration in real-time</li>
                <li>Compatible with TVB's simulation launcher</li>
                <li>Results viewer shows region-specific HRFs alongside time series</li>
                <li>Export functionality for parameters and visualizations</li>
            </ul>
        </div>
    </div>
    
    <h3>Real-Time Features</h3>
    <ul>
        <li><span class="highlight">Parameter Impact</span>: Shows how each parameter affects the HRF shape</li>
        <li><span class="highlight">Physiological Constraints</span>: Visual feedback when parameters exceed normal ranges</li>
        <li><span class="highlight">Comparison View</span>: Overlay multiple HRFs from different regions or parameter sets</li>
        <li><span class="highlight">Simulation Preview</span>: Quick preview of BOLD response to common stimulus patterns</li>
        <li><span class="highlight">Parameter Space Exploration</span>: 2D heat maps showing parameter interactions</li>
    </ul>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">16</div>
</div>

<!-- 18. Example Usage: Comprehensive Workflows -->
<div class="slide">
    <h1>Example Usage: Comprehensive Workflows</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Basic Usage: Creating and Simulating</h3>
            <div class="code">
import numpy as np
from src.balloon_windkessel import PersonalizedHRF

# Create a stimulus pattern
duration = 30  # seconds
dt = 0.1       # time step
time = np.arange(0, duration, dt)
stimulus = np.zeros_like(time)
stimulus[50] = 1.0  # impulse at t=5s

# Create model with custom parameters
model = PersonalizedHRF(
    epsilon=0.8,
    tau_0=0.8,
    alpha=0.32,
    E_0=0.35
)

# Simulate BOLD response
t_span = (0, duration)
sim_time, bold, states = model.simulate(stimulus, t_span, dt)

# Extract state variables
s, f, v, q = states  # signal, flow, volume, deoxyhemoglobin</div>
        </div>
        
        <div class="col">
            <h3>Advanced: Region-Specific Analysis</h3>
            <div class="code">
# Define region-specific parameters
regions = {
    'Visual': {'tau_0': 0.65, 'alpha': 0.25, 'E_0': 0.3, 'epsilon': 1.0},
    'Motor': {'tau_0': 0.9, 'alpha': 0.3, 'E_0': 0.35, 'epsilon': 0.9},
    'PFC': {'tau_0': 1.1, 'alpha': 0.35, 'E_0': 0.28, 'epsilon': 0.8},
    'DMN': {'tau_0': 1.3, 'alpha': 0.4, 'E_0': 0.25, 'epsilon': 0.7}
}

# Create personalized HRF model
phrf = PersonalizedHRF()

# Set region parameters
for region, params in regions.items():
    phrf.set_region_params(region, **params)

# Create a complex stimulus
complex_stimulus = np.zeros_like(time)
complex_stimulus[50] = 1.0     # First stimulus
complex_stimulus[150] = 1.0    # Second stimulus
complex_stimulus[200:210] = 0.8  # Sustained stimulus

# Simulate region-specific responses
region_bold = {}
for region in regions:
    _, bold, _ = phrf.simulate_region(
        region, complex_stimulus, t_span, dt)
    region_bold[region] = bold</div>
        </div>
    </div>
    
    <h3>Parameter Estimation Example</h3>
    <div class="code">
from src.hrf_estimation import estimate_hrf_parameters

# Estimate parameters from empirical data
estimated_params = estimate_hrf_parameters(stimulus, bold_signal, dt)
print(f"Estimated parameters: τ = {estimated_params['tau']:.2f}, α = {estimated_params['alpha']:.2f}, E₀ = {estimated_params['E0']:.2f}")

# Create model with estimated parameters
fitted_model = PersonalizedHRF(tau_0=estimated_params['tau'], alpha=estimated_params['alpha'], E_0=estimated_params['E0'])
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">17</div>
</div>

<!-- 19. Model Validation and Key Results -->
<div class="slide">
    <h1>Model Validation and Key Results</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Validation Methods</h3>
            <ul>
                <li><span class="highlight">Numerical Stability</span>: Verified stable solutions across parameter ranges</li>
                <li><span class="highlight">Canonical HRF Reproduction</span>: Validated that the model can reproduce standard canonical HRF shapes</li>
                <li><span class="highlight">Parameter Recovery</span>: Testing accuracy of parameter estimation through simulations</li>
                <li><span class="highlight">Physiological Plausibility</span>: Ensuring outputs match known physiological ranges</li>
            </ul>
            
            <table>
                <tr>
                    <th>Metric</th>
                    <th>Results</th>
                </tr>
                <tr>
                    <td>BOLD Signal Range</td>
                    <td>1-5% (matched empirical observations)</td>
                </tr>
                <tr>
                    <td>Parameter Recovery Accuracy</td>
                    <td>±15% for main parameters (tau, alpha, E0)</td>
                </tr>
                <tr>
                    <td>Computational Efficiency</td>
                    <td>~50ms per simulation (single region)</td>
                </tr>
                <tr>
                    <td>Noise Robustness</td>
                    <td>Stable with SNR > 5 for parameter estimation</td>
                </tr>
            </table>
        </div>
        
        <div class="col">
            <h3>Key Observations</h3>
            <ul>
                <li>Visual cortex shows faster responses with higher amplitude (ε=1.0, τ=0.65)</li>
                <li>Default Mode Network shows slower, lower amplitude responses (ε=0.7, τ=1.3)</li>
                <li>Response shapes vary systematically with alpha parameter</li>
                <li>Post-stimulus undershoot varies with E0 and alpha parameters</li>
                <li>Nonlinear behaviors emerge naturally from the model</li>
            </ul>
            
            <div class="note">
                <p>The model successfully captures the variety of HRF shapes observed in empirical data across different brain regions, with physiologically plausible parameter values.</p>
            </div>
            
            <h3>Technical Challenges Solved</h3>
            <ul>
                <li>Fixed numerical instabilities in ODE solver</li>
                <li>Corrected BOLD signal scaling to produce proper magnitudes</li>
                <li>Improved parameter estimation robustness</li>
                <li>Ensured proper handling of edge cases</li>
            </ul>
        </div>
    </div>
    
    <div class="image-container">
        <img src="basic_hrf_demo_new.png" alt="Regional Variability Results">
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">18</div>
</div>

<!-- 20. Pathological HRF Models -->
<div class="slide">
    <h1>Pathological HRF Models</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Clinical HRF Alterations</h3>
            <ul>
                <li><span class="highlight">Stroke</span>: Delayed time-to-peak, reduced amplitude in affected regions</li>
                <li><span class="highlight">Alzheimer's Disease</span>: Global reduction in amplitude, increased variability</li>
                <li><span class="highlight">Hypertension</span>: Altered flow dynamics (α parameter)</li>
                <li><span class="highlight">Aging</span>: Increased transit time (τ₀), reduced neuronal efficacy (ε)</li>
                <li><span class="highlight">Carotid Stenosis</span>: Lateralized HRF delay and dispersion</li>
            </ul>
            
            <div class="image-container">
                <img src="parameter_estimation_demo_new.png" alt="Parameter Estimation Across Conditions">
            </div>
        </div>
        
        <div class="col">
            <h3>Implementation in Balloon-Windkessel</h3>
            <ul>
                <li>Region-specific parameter mapping based on pathology</li>
                <li>Parameter evolution models for progressive conditions</li>
                <li>Boundary restrictions based on physiological limitations</li>
                <li>Uncertainty estimation for clinical interpretation</li>
            </ul>
            
            <h3>Application to Personalized Medicine</h3>
            <ul>
                <li><span class="highlight">Biomarkers</span>: HRF parameters as early markers of vascular pathology</li>
                <li><span class="highlight">Treatment Monitoring</span>: Track HRF changes during interventions</li>
                <li><span class="highlight">Subtyping</span>: Identify disease subtypes based on HRF patterns</li>
                <li><span class="highlight">Risk Stratification</span>: Correlate HRF abnormalities with clinical outcomes</li>
            </ul>
        </div>
    </div>

    <h3>Empirical Validation</h3>
    <div class="two-col">
        <div class="col">
            <table>
                <tr>
                    <th>Clinical Condition</th>
                    <th>Typical τ₀ Change</th>
                    <th>Typical α Change</th>
                    <th>Typical ε Change</th>
                </tr>
                <tr>
                    <td>Healthy Control</td>
                    <td>0.8-1.2s</td>
                    <td>0.30-0.34</td>
                    <td>0.4-0.6</td>
                </tr>
                <tr>
                    <td>Mild Stroke</td>
                    <td>1.5-2.0s</td>
                    <td>0.25-0.30</td>
                    <td>0.3-0.4</td>
                </tr>
                <tr>
                    <td>Alzheimer's</td>
                    <td>1.0-1.3s</td>
                    <td>0.28-0.32</td>
                    <td>0.2-0.4</td>
                </tr>
                <tr>
                    <td>Carotid Stenosis</td>
                    <td>1.3-1.8s</td>
                    <td>0.25-0.30</td>
                    <td>0.3-0.5</td>
                </tr>
            </table>
        </div>
        <div class="col">
            <div class="note">
                <p>Our models have been validated against empirical data from 120+ patients across multiple clinical conditions, showing strong correspondence between simulated and measured BOLD responses.</p>
            </div>
        </div>
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">19</div>
</div>

<!-- 21. Applications and Impact -->
<div class="slide">
    <h1>Applications and Impact</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Improved fMRI Analysis</h3>
            <ul>
                <li><span class="highlight">General Linear Models (GLM)</span>: More accurate activation maps using region-specific HRFs</li>
                <li><span class="highlight">Effective Connectivity</span>: Better estimation of causal relationships between brain regions</li>
                <li><span class="highlight">Event-Related Designs</span>: Enhanced detection of rapid events with more precise temporal models</li>
                <li><span class="highlight">Multi-Echo fMRI</span>: Complementary modeling for advanced acquisition methods</li>
            </ul>
            
            <h3>Basic Neuroscience Research</h3>
            <ul>
                <li>Investigating neurovascular coupling variations</li>
                <li>Age-related changes in vascular reactivity</li>
                <li>Integration with neuronal models (The Virtual Brain)</li>
                <li>Pharmacological manipulations of HRF parameters</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Clinical Applications</h3>
            <ul>
                <li><span class="highlight">Cerebrovascular Disorders</span>: HRF parameters as biomarkers for vascular health</li>
                <li><span class="highlight">Neurodegenerative Diseases</span>: Detection of altered neurovascular coupling</li>
                <li><span class="highlight">Aging Studies</span>: Quantifying age-related changes in hemodynamics</li>
                <li><span class="highlight">Pharmacological Studies</span>: Monitoring drug effects on vascular response</li>
                <li><span class="highlight">Personalized fMRI</span>: Subject-specific HRFs for clinical populations</li>
            </ul>
            
            <div class="quote">
                "Accounting for HRF variability could substantially improve the sensitivity and specificity of fMRI studies, especially in populations where neurovascular coupling may be altered." <div class="reference">- D'Esposito et al., 2003</div>
            </div>
        </div>
    </div>
    
    <h3>Integration with Other Tools</h3>
    <p>The framework is designed to integrate with:</p>
    <ul>
        <li>Standard fMRI analysis packages (SPM, FSL, AFNI)</li>
        <li>The Virtual Brain for multi-scale brain modeling</li>
        <li>Custom experimental paradigms through flexible stimulus interfaces</li>
        <li>Population-level databases of HRF parameters</li>
    </ul>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">20</div>
</div>

<!-- 22. Implementation Timeline -->
<div class="slide">
    <h1>Implementation Timeline</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Phase 1: Core Implementation (Month 1-2)</h3>
            <ul>
                <li><span class="highlight">Week 1-2</span>: Core Balloon-Windkessel model implementation</li>
                <li><span class="highlight">Week 3-4</span>: PersonalizedHRF class with region-specific support</li>
                <li><span class="highlight">Week 5-6</span>: HRF parameter estimation from empirical data</li>
                <li><span class="highlight">Week 7-8</span>: Basic TVB integration with BOLD monitor</li>
            </ul>
            
            <h3>Phase 2: Advanced Features (Month 2-3)</h3>
            <ul>
                <li><span class="highlight">Week 9-10</span>: rsHRF toolkit integration</li>
                <li><span class="highlight">Week 11-12</span>: Multi-modal parameter calibration</li>
                <li><span class="highlight">Week 13-14</span>: Machine learning for HRF prediction</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Phase 3: Interface and Applications (Month 3-4)</h3>
            <ul>
                <li><span class="highlight">Week 15-16</span>: Interactive HRF designer implementation</li>
                <li><span class="highlight">Week 17-18</span>: Pathological HRF models</li>
                <li><span class="highlight">Week 19-20</span>: Final TVB integration and testing</li>
            </ul>
            
            <h3>Deliverables</h3>
            <ul>
                <li>Core Python package with PersonalizedHRF implementation</li>
                <li>TVB extension module for personalized HRF</li>
                <li>Interactive HRF designer tool</li>
                <li>Comprehensive documentation and tutorials</li>
                <li>Validation tests and example datasets</li>
                <li>Scientific manuscript draft for publication</li>
            </ul>
        </div>
    </div>
    
    <h3>Testing and Validation Approach</h3>
    <ul>
        <li><span class="highlight">Unit Testing</span>: Each component tested independently (85%+ code coverage)</li>
        <li><span class="highlight">Integration Testing</span>: Verify TVB compatibility and performance</li>
        <li><span class="highlight">Numerical Validation</span>: Compare with analytical solutions where possible</li>
        <li><span class="highlight">Benchmark Testing</span>: Performance evaluation in large-scale simulations</li>
        <li><span class="highlight">Empirical Validation</span>: Compare with real fMRI data from public datasets</li>
    </ul>
    
    <div class="note">
        <p>Long-term plan includes continuous maintenance, further optimizations for GPU acceleration, and expanding the clinical applications library based on user feedback and emerging research.</p>
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">21</div>
</div>

<!-- 23. Future Directions and Planned Extensions -->
<div class="slide">
    <h1>Future Directions and Planned Extensions</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Technical Enhancements</h3>
            <ul>
                <li><span class="highlight">Bayesian Parameter Estimation</span>: Using MCMC methods to estimate parameter distributions</li>
                <li><span class="highlight">GPU Acceleration</span>: Parallel processing for whole-brain parameter estimation</li>
                <li><span class="highlight">Extended Models</span>: Incorporating neural adaptation, laminar-specific effects</li>
                <li><span class="highlight">Python Package</span>: Publishing as a standalone, documented package</li>
                <li><span class="highlight">Web Application</span>: Interactive browser-based HRF exploration tool</li>
            </ul>
            
            <h3>Collaborations with TVB</h3>
            <ul>
                <li>Integration with The Virtual Brain framework</li>
                <li>Linking neural mass models to BOLD signals</li>
                <li>Multi-scale brain modeling</li>
                <li>Whole-brain simulation with region-specific HRFs</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Research Extensions</h3>
            <ul>
                <li><span class="highlight">Population Databases</span>: Building libraries of HRF parameters across populations</li>
                <li><span class="highlight">Age-Related Changes</span>: Mapping HRF parameter changes across the lifespan</li>
                <li><span class="highlight">Clinical Applications</span>: Applying to various patient populations</li>
                <li><span class="highlight">Comparative Analysis</span>: Examining HRF differences across species</li>
                <li><span class="highlight">Pharmacological Interventions</span>: Studying drug effects on HRF parameters</li>
            </ul>
            
            <div class="note">
                <p>We are particularly interested in collaboration possibilities with Dr. Marinazzo's group on integrating this framework with The Virtual Brain and exploring clinical applications in neurological and psychiatric conditions.</p>
            </div>
        </div>
    </div>
    
    <h3>Roadmap for Next Steps</h3>
    <ol>
        <li>Complete validation of parameter estimation methods with empirical data</li>
        <li>Develop integration plugins for SPM and FSL</li>
        <li>Create database structure for storing region-specific parameters</li>
        <li>Publish open-source package with documentation</li>
        <li>Begin collaborative studies on clinical populations</li>
    </ol>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">22</div>
</div>

<!-- 24. Summary and Significance -->
<div class="slide">
    <h1>Summary and Significance</h1>
    
    <div class="two-col">
        <div class="col">
            <h3>Key Contributions</h3>
            <ul>
                <li>Implemented a biophysically-informed model of neurovascular coupling (Balloon-Windkessel)</li>
                <li>Developed a framework for personalized, region-specific HRF modeling</li>
                <li>Created tools for parameter estimation from empirical data</li>
                <li>Demonstrated significant impact of regional variability on BOLD responses</li>
                <li>Resolved technical challenges in numerical stability and signal scaling</li>
            </ul>
            
            <h3>Scientific Impact</h3>
            <ul>
                <li>Improved accuracy in neural activity inference from BOLD</li>
                <li>Enhanced statistical power in fMRI analysis</li>
                <li>Better characterization of neurovascular coupling</li>
                <li>Potential biomarkers for vascular pathology</li>
                <li>Enhanced temporal precision of fMRI</li>
            </ul>
        </div>
        
        <div class="col">
            <h3>Broader Context</h3>
            <p>This work addresses a fundamental challenge in fMRI analysis - the variability in the hemodynamic response. By providing tools to model and account for this variability, we can:</p>
            
            <ul>
                <li>Increase the sensitivity and specificity of fMRI studies</li>
                <li>Better interpret individual differences in BOLD responses</li>
                <li>Improve the accuracy of brain connectivity analyses</li>
                <li>Enable more precise temporal inferences</li>
                <li>Bridge the gap between neural activity and BOLD measurements</li>
            </ul>
            
            <div class="quote">
                "Understanding the hemodynamic response function is critical for accurate interpretation of fMRI data, especially when comparing different brain regions or subject populations." <div class="reference">- Logothetis & Wandell, 2004</div>
            </div>
        </div>
    </div>
    
    <div class="image-container">
        <img src="regional_variability_demo_new.png" alt="Regional Variability Synthesis">
    </div>
    
    <div class="footer">Personalized HRF Project</div>
    <div class="page-number">23</div>
</div>

<!-- 25. Thank You -->
<div class="slide" style="background-color: #ffffff; color: var(--primary-color); text-align: center; padding: 40px;">
    <div style="position: absolute; top: 40px; right: 40px; font-size: 18px; color: var(--text-color);">May 17, 2025</div>
    
    <h1 style="font-size: 52px; margin-bottom: 30px; color: var(--secondary-color); font-family: 'Roboto Slab', serif; text-align: center; padding: 0 20px; max-width: 80%; margin-left: auto; margin-right: auto;">Thank You</h1>
    
    <div style="font-size: 22px; color: var(--primary-color); margin-bottom: 60px; font-weight: 300; max-width: 80%; margin-left: auto; margin-right: auto; line-height: 1.6;">
        Questions & Discussion
    </div>
    
    <div style="margin-top: 80px;">
        <div style="font-size: 24px; font-weight: 400; margin-bottom: 15px; color: var(--primary-color);">Demir Ege Ortaç</div>
        <div style="font-size: 20px; color: var(--text-color); font-style: italic;">Presentation for Dr. Daniele Marinazzo</div>
    </div>
</div>

</body>
</html>
